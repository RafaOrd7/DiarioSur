<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/WEB-INF/templates/plantilla.xhtml" 
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <ui:define name="title">Diario Sur Evento</ui:define>


    <ui:define name="content">
        <c:choose>
            <c:when test="#{ctrlAutorizacion.checkAdm()}">
        
        <h:form>  
            <h1 align="center">REPORTE</h1>  
            <table align="center">
                <tr>

                    <td>Id: #{recogedorReportes.getSeleccionado().getId()}</td>
                </tr>
                <tr>
                    <td>Usuario que ha reportado: #{recogedorReportes.getSeleccionado().getUsuarioRegistrado().getNombre()}</td>
                </tr>
                <tr>
                    <td> Fecha: #{recogedorReportes.getSeleccionado().getFecha()}   </td>
                </tr>
                <tr>               
                    <td>Tipo: #{recogedorReportes.getSeleccionado().getTipo()}</td>
                </tr>
                <tr> 
                    <td> Comentario: #{recogedorReportes.getSeleccionado().getTexto()}</td>
                </tr>  
                <tr> 
                    <td>
                        Evento:  <h:commandLink action="evento.xhtml" value="#{recogedorEventos.getSeleccionado().getNombre()}"/>
                    </td>

                </tr>


                <tr> 
                    <td>
                        <p:commandButton value="Eliminar Reporte">
                            <p:confirm header="Eliminar Reporte" message="¿Estás seguro de que quieres eliminar el reporte?" icon="ui-icon-alert" />
                        </p:commandButton>
                    </td>

                </tr>
            </table>

            <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                <p:button value="Si" outcome="#{recogedorReportes.eliminarEv()}" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                <p:button value="No" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
            </p:confirmDialog>


        </h:form>






                <h:form>
                    <p:commandButton value="Eliminar Reporte">
                        <p:confirm header="Eliminar Reporte" message="¿Estás seguro de que quieres eliminar el reporte?" icon="ui-icon-alert" />
                    </p:commandButton>

                    <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                        <p:button value="Si" outcome="#{recogedorReportes.eliminarEv()}" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                        <p:button value="No" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                    </p:confirmDialog>
                </h:form>




            </c:when>
            <c:otherwise>
                <h3>Error, acceso denegado.</h3>
            </c:otherwise>
        </c:choose>


    </ui:define>

</ui:composition>

